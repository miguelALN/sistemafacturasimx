<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
    Document   : clientesCarteraVencidaNEW.xhtml
    Created on : Dec 2022
    Author     : Raul Estrada
-->
<html xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns="http://www.w3.org/1999/xhtml">

<h:head>
  <link rel="stylesheet" type="text/css" href="../resources/css/master.css"/>
  <link rel="stylesheet" type="text/css" href="../resources/css/style.css"/>
  <div id="logo"><img src="../resources/img/common/bmxt.jpg" alt=""/><a href="https://www.bancomext.com">
    <img src="../resources/img/header.png" alt=""/></a>
  </div>
</h:head>

<h:body>
  <ui:include src="../menuBar.xhtml"/>
  <div style="text-align: -webkit-center">
    <h:form id="form1">
      <p:growl id="messages" showDetail="true"/>
      <fieldset>
        <legend>ExclusiÃ³n Clientes Cartera Vencida</legend>
        <p:outputPanel layout="block" id="pgResultado">

          <p:panelGrid columns="5">
            <h:outputText value="Nombre Cliente"/>
            <p:selectOneMenu value="#{clientesCarteraVencida.clienteFiltro}"
                             partialSubmit="true">
              <f:selectItems value="#{clientesCarteraVencida.listaClientes}"/>
            </p:selectOneMenu>
            <p:commandButton value="Filtrar"
                             action="#{clientesCarteraVencida.filtroCliente}"/>
          </p:panelGrid>

          <p:dataTable id="dtInfo" var="row"
                       binding="#{clientesCarteraVencida.htmlDataTable}"
                       value="#{clientesCarteraVencida.lst}"
                       rows="#{clientesCarteraVencida.defaultRows}"
                       style="position: relative; vertical-align:top"
                       paginator="#{clientesCarteraVencida.paginatorVisible}"
                       paginatorPosition="bottom"
                       paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {RowsPerPageDropdown}"
                       currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} registros">

            <p:column headerText="Codigo Cliente" id="column12">
              <p:commandLink id="editaF"
                             action="#{clientesCarteraVencida.muestraEdicion}"
                             style="color: #990033; text-decoration: underline">
                <h:outputText id="otEditaF"
                              value="#{row.id}"
                              style="color: #019390;text-align:center; font-style:normal; font-size:11px;"/>
                <f:param name="rowIndex" value="#{clientesCarteraVencida.htmlDataTable.rowIndex}"/>
              </p:commandLink>
            </p:column>
            <p:column headerText="Nombre">
              <h:outputText value="#{row.descripcionCliente}"
                            style="text-align:left; font-style:normal; font-size:11px;"/>
            </p:column>
            <!--TODO REA review this button -->
            <p:column headerText="Eliminar" id="column5" style="width:40px; text-align:center;">
              <p:commandButton actionListener="#{clientesCarteraVencida.borraGpoCorreo}"
                               alt="Borrar Grupo de Correo"
                               icon="pi pi-trash"
                               style="position:relative">
                <f:attribute name="rowIndex"
                             value="#{clientesCarteraVencida.htmlDataTable.rowIndex}"/>
              </p:commandButton>
            </p:column>
          </p:dataTable>

        </p:outputPanel>
      </fieldset>
    </h:form>
  </div>
</h:body>
</html>
